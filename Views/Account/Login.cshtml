@{
    ViewData["Title"] = "Đăng Nhập";
}

<link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@500;700;900&display=swap" rel="stylesheet">

<style>
    .login-wrapper {
        font-family: 'Quicksand', sans-serif; /* Áp dụng font mới */
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 20px; 
    }

    .glass-card {
        background: rgba(255, 255, 255, 0.98); /* Trắng đục hơn xíu cho chữ nét */
        backdrop-filter: blur(20px);
        padding: 40px 30px; /* Giảm padding ngang xíu để có chỗ cho chữ */
        border-radius: 30px; /* Bo góc tròn hơn nữa */
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.15);
        width: 100%;
        max-width: 420px;
        text-align: center;
        margin-top: -20px; 
    }

    .form-control {
        border-radius: 50px;
        padding: 12px 20px;
        background: #f4f7f6;
        border: 2px solid #eaeff2; /* Viền dày hơn tí cho tròn trịa */
        font-size: 1rem;
        font-weight: 600; /* Chữ nhập vào đậm hơn tí cho dễ nhìn */
        color: #333;
    }

    .form-control:focus {
        background: white;
        box-shadow: 0 0 0 4px rgba(38, 208, 206, 0.15);
        border-color: #26D0CE;
    }

    .btn-login-submit {
        width: 100%;
        padding: 14px; /* Nút to hơn xíu */
        border-radius: 50px;
        background: linear-gradient(135deg, #1A2980 0%, #26D0CE 100%); 
        border: none;
        color: white;
        font-weight: 800;
        font-size: 1.1rem;
        margin-top: 15px;
        transition: all 0.3s ease;
        text-transform: uppercase;
        letter-spacing: 1px;
    }

    .btn-login-submit:hover {
        transform: translateY(-3px);
        box-shadow: 0 10px 25px rgba(38, 208, 206, 0.5);
    }

    .input-label {
        display: block;
        text-align: left;
        font-weight: 800; /* Chữ label đậm đà */
        color: #1A2980; /* Đổi màu label sang xanh đậm cho đẹp */
        margin-bottom: 8px;
        margin-left: 15px;
        font-size: 0.85rem;
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }

    .input-group-custom {
        margin-bottom: 20px;
    }

    /* SỬA LỖI LỆCH DÒNG Ở ĐÂY */
    h2 { 
        color: #1A2980; 
        font-weight: 900; 
        margin-bottom: 10px; 
        text-transform: uppercase;
        font-size: 1.8rem; /* Giảm size xuống xíu (cũ là 2rem) */
        line-height: 1.3;  /* Giãn dòng ra cho thoáng */
        letter-spacing: -0.5px; /* Thu hẹp khoảng cách chữ xíu cho gọn */
    }

    /* --- NEW PASSWORD STYLE --- */
    .password-container {
        position: relative;
        width: 100%;
    }
    
    /* Style cho nút con mắt */
    .btn-toggle-pass {
        position: absolute;
        right: 15px;
        top: 50%;
        transform: translateY(-50%);
        background: none;
        border: none;
        cursor: pointer;
        color: #1A2980;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 5px;
        transition: color 0.2s;
        opacity: 0.6;
    }
    .btn-toggle-pass:hover { color: #26D0CE; opacity: 1; }
    
    /* Kích thước SVG */
    .eye-icon { width: 22px; height: 22px; }
</style>

<div class="login-wrapper">
    <div class="glass-card">
        <h2>Chào Mừng Trở Lại!</h2> <p class="text-muted mb-4" style="font-weight: 600;">Vui lòng đăng nhập để tiếp tục</p>

        @if (ViewBag.Error != null)
        {
<div class="alert alert-danger p-2 mb-3" style="border-radius: 15px; font-size: 0.9rem; font-weight: 600;">
                @ViewBag.Error
            </div>
        }

        <form asp-action="Login" method="post">
            <div class="input-group-custom">
                <label class="input-label">Tên đăng nhập</label>
                <input name="username" class="form-control" placeholder="Nhập username..." required />
            </div>

            <div class="input-group-custom">
                <label class="input-label">Mật khẩu</label>
                <div class="password-container">
                    <input name="password" type="password" class="form-control" style="padding-right: 45px;" placeholder="••••••" required />
                    <button type="button" class="btn-toggle-pass" onclick="togglePassword(this)">
                        <svg class="eye-icon eye-open" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 4.5C7 4.5 2.73 7.61 1 12C2.73 16.39 7 19.5 12 19.5C17 19.5 21.27 16.39 23 12C21.27 7.61 17 4.5 12 4.5ZM12 17C9.24 17 7 14.76 7 12C7 9.24 9.24 7 12 7C14.76 7 17 9.24 17 12C17 14.76 14.76 17 12 17ZM12 9C10.34 9 9 10.34 9 12C9 13.66 10.34 15 12 15C13.66 15 15 13.66 15 12C15 10.34 13.66 9 12 9Z" fill="currentColor"/></svg>
                        <svg class="eye-icon eye-closed" style="display:none" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M11.83 9L15 12.17C15 12.11 15 12.06 15 12C15 10.34 13.66 9 12 9C11.94 9 11.89 9 11.83 9ZM19.78 22.61L17.17 20C15.65 20.97 13.9 21.5 12 21.5C7 21.5 2.73 18.39 1 14C2.33 10.63 5.09 8.08 8.47 7L1.39 0.42L2.8 0L21.19 21.19L19.78 22.61ZM15.04 17.87L9.96 12.79C9.97 12.86 10 12.93 10 13C10 14.66 11.34 16 13 16C13.07 16 13.14 15.99 13.21 15.96L11.86 14.61L12 14.5C13.38 14.5 14.5 13.38 14.5 12L15.04 17.87ZM12 6.5C12.87 6.5 13.69 6.7 14.43 7.05L16.66 9.28C16.88 10.15 17 11.06 17 12C17 12.98 16.78 13.91 16.39 14.75L18.49 16.85C20.06 15.68 21.35 14.07 22.14 12.18C20.69 8.43 17.27 5.86 13.43 5.06C12.97 4.97 12.49 4.92 12 4.92V6.5Z" fill="currentColor"/></svg>
                    </button>
                </div>
            </div>

            <button type="submit" class="btn-login-submit">Đăng Nhập</button>

            <div class="mt-4" style="font-size: 0.95rem; font-weight: 700;">
                Chưa có tài khoản? <a asp-controller="Account" asp-action="Register" style="color: #26D0CE; text-decoration: none;">Tạo mới ngay</a>
            </div>
        </form>
    </div>
</div>

<script>
    function togglePassword(btn) {
        var input = btn.previousElementSibling;
        var eyeOpen = btn.querySelector('.eye-open');
        var eyeClosed = btn.querySelector('.eye-closed');
        
        if (input.type === "password") {
            input.type = "text"; eyeOpen.style.display = "none"; eyeClosed.style.display = "block";
        } else {
            input.type = "password"; eyeOpen.style.display = "block"; eyeClosed.style.display = "none";
        }
    }
</script>            